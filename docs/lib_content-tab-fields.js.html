<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/content-tab-fields.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/content-tab-fields.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as T from './config/types.js' // eslint-disable-line
import { initField } from './utils/initField.js'

/**
 * @typedef {T.EDITOR_OPTIONS} EDITOR_OPTIONS {@link EDITOR_OPTIONS}
 * @typedef {T.DISPLAY_CONDITIONS} DISPLAY_CONDITIONS {@link DISPLAY_CONDITIONS}
 * @typedef {T.REPEATER_OPTIONS} REPEATER_OPTIONS {@link REPEATER_OPTIONS}
 * @typedef {T.REPEATER_OPTIONS_DEFAULT} REPEATER_OPTIONS_DEFAULT {@link REPEATER_OPTIONS_DEFAULT}
 */

// *************
// Only Content Tab fields
// *************

/**
 * #### Text fields provide content creators a simple text editing experience with no rich text functionality. Text fields initially show as a single line, but can actually expand to be textareas, supporting multiple lines.
 * `only_content_tab`
 *
 * Some parameters have `default` values, `OMIT` such parameters if you don't want to override them.
 * @example
 * fi.text('label', 'name', {...options if needed})
 * @memberof Fields
 * @param {string} label The text the content creator sees describing the field. May contain spaces.
 * @param {string} name Field/HubL variable name, which you'll reference when incorporating the field and its values in the module or theme. `Cannot contain spaces or special characters!`
 * @param {Object} [fields]
 * @param {string} [fields.validation_regex] Regex pattern to validate the input
 * @param {boolean} [fields.allow_new_line=false] `false` Allows new line
 * @param {boolean} [fields.show_emoji_picker] `false` Shows emoji picker
 * @param {string} [fields.placeholder] Placeholder text
 * @param {string} [fields.default] Text string --> It's generally a good idea to skip setting the `default` object, as it should be configured by the editor, not the developer
 * @param {EDITOR_OPTIONS} [fields.editor_options] Editor options group.
 * @param {DISPLAY_CONDITIONS} [fields.display_conditions] Display conditions group.
 * @param {REPEATER_OPTIONS} [fields.repeater_options] Repeater options. Keep `occurrence` object empty to just enable a feature. `repeater_options: {occurrence: {}}`
 * @param {REPEATER_OPTIONS_DEFAULT} [fields.repeater_options_default] Repeater options with predefined repeated fields and `default` values for each field.
 * @returns {Object}
 */
function text (label, name, fields) {
  const contentOptions = {}
  contentOptions.allow_new_line = fields?.allow_new_line ?? false
  contentOptions.show_emoji_picker = fields?.show_emoji_picker ?? false
  contentOptions.validation_regex = fields?.validation_regex ?? ''
  if (typeof fields !== 'undefined' &amp;&amp; fields !== null &amp;&amp; typeof fields === 'object') {
    if ('placeholder' in fields) contentOptions.placeholder = fields.placeholder
    if ('default' in fields) contentOptions.default = fields.default
  }

  const otherOptions = initField(label, name, 'text', fields)
  return { ...contentOptions, ...otherOptions }
}

/**
 * @typedef {Object} LINK_DEFAULT
 * @property {Object} [url] Default URL object
 * @property {?string} [url.content_id] Default URL content ID
 * @property {'EXTERNAL'|'CONTENT'|'FILE'|'EMAIL_ADDRESS'|'BLOG'|'CALL_TO_ACTION'|'PHONE_NUMBER'|'WHATSAPP_NUMBER'} [url.type] Default URL type
 * @property {string} [url.href] Default URL href
 * @property {boolean} [open_in_new_tab] Default open_in_new_tab value
 * @property {boolean} [no_follow] Default no_follow value
 * @property {boolean} [sponsored] Default sponsored value
 * @property {boolean} [user_generated_content] Default user_generated_content value
 */

/**
 * @typedef {'EXTERNAL'|'CONTENT'|'FILE'|'EMAIL_ADDRESS'|'BLOG'|'CALL_TO_ACTION'|'PHONE_NUMBER'|'WHATSAPP_NUMBER'} LINK_SUPPORTED_TYPES
 */

/**
 * #### Link fields provide an easy interface for content creators to provide links to URLs and email addresses.
 * `only_content_tab`
 *
 * Some parameters have `default` values, `OMIT` such parameters if you don't want to override them.
 * @example
 * fi.link('label', 'name', {...options if needed})
 * @memberof Fields
 * @param {string} label The text the content creator sees describing the field. May contain spaces.
 * @param {string} name Field/HubL variable name, which you'll reference when incorporating the field and its values in the module or theme. `Cannot contain spaces or special characters!`
 * @param {Object} [fields]
 * @param {Array&lt;LINK_SUPPORTED_TYPES>} [fields.supported_types=all] `all` list of the types of links this field allows content creators to select
 * @param {boolean} [fields.show_advanced_rel_options=false] `false` Whether content creators can see advanced rel options
 * @param {LINK_DEFAULT} [fields.default] Default object --> It's generally a good idea to skip setting the `default` object, as it should be configured by the editor, not the developer
 * @param {EDITOR_OPTIONS} [fields.editor_options] Editor options group.
 * @param {DISPLAY_CONDITIONS} [fields.display_conditions] Display conditions group.
 * @param {REPEATER_OPTIONS} [fields.repeater_options] Repeater options. Keep `occurrence` object empty to just enable a feature. `repeater_options: {occurrence: {}}`
 * @param {REPEATER_OPTIONS_DEFAULT} [fields.repeater_options_default] Repeater options with predefined repeated fields and `default` values for each field.
 * @returns {Object}
 */
function link (label, name, fields) {
  const contentOptions = {}
  contentOptions.show_advanced_rel_options = fields?.show_advanced_rel_options ?? false
  contentOptions.supported_types = fields?.supported_types ?? ['EXTERNAL', 'CONTENT', 'FILE', 'EMAIL_ADDRESS', 'BLOG', 'CALL_TO_ACTION', 'PHONE_NUMBER', 'WHATSAPP_NUMBER']
  /**
   * @type {LINK_DEFAULT}
   */
  const defaultObj = {
    url: {
      content_id: null,
      type: 'EXTERNAL',
      href: ''
    },
    open_in_new_tab: false,
    no_follow: false
  }
  contentOptions.default = { ...defaultObj, ...fields?.default }
  contentOptions.default.url = { ...defaultObj.url, ...fields?.default?.url }

  const otherOptions = initField(label, name, 'link', fields)
  return { ...contentOptions, ...otherOptions }
}

/**
 * #### Rich Text fields provide content creators with a WYSIWYG text editor experience.
 * `only_content_tab`
 *
 * Some parameters have `default` values, `OMIT` such parameters if you don't want to override them.
 * @example
 * fi.richtext('label', 'name', {...options if needed})
 * @memberof Fields
 * @param {string} label The text the content creator sees describing the field. May contain spaces.
 * @param {string} name Field/HubL variable name, which you'll reference when incorporating the field and its values in the module or theme. `Cannot contain spaces or special characters!`
 * @param {Object} [fields]
 * @param {Array&lt;string>} [fields.enabled_features] An array of items that allows you to configure the Rich Text Editor Toolbar and what options are available for content editors.
 * @param {string} [fields.default] String of content to be displayed supports HTML --> It's generally a good idea to skip setting the `default` object, as it should be configured by the editor, not the developer
 * @param {EDITOR_OPTIONS} [fields.editor_options] Editor options group.
 * @param {DISPLAY_CONDITIONS} [fields.display_conditions] Display conditions group.
 * @param {REPEATER_OPTIONS} [fields.repeater_options] Repeater options. Keep `occurrence` object empty to just enable a feature. `repeater_options: {occurrence: {}}`
 * @param {REPEATER_OPTIONS_DEFAULT} [fields.repeater_options_default] Repeater options with predefined repeated fields and `default` values for each field.
 * @returns {Object}
 */
function richtext (label, name, fields) {
  const contentOptions = {}
  if (typeof fields !== 'undefined' &amp;&amp; fields !== null &amp;&amp; typeof fields === 'object') {
    if ('enabled_features' in fields) contentOptions.enabled_features = fields.enabled_features
    if ('default' in fields) contentOptions.default = fields.default
  }

  const otherOptions = initField(label, name, 'richtext', fields)
  return { ...contentOptions, ...otherOptions }
}

/**
 * #### URL fields provide a similar experience to link fields. Providing a UI for content creators to add links. URL fields, however, do not show a UI for open in a new window, nor tell search engines not to follow. Use this field when you as a developer want to dictate the values for that.
 * `only_content_tab`
 *
 * Some parameters have `default` values, `OMIT` such parameters if you don't want to override them.
 * @example
 * fi.url('label', 'name', {...options if needed})
 * @memberof Fields
 * @param {string} label The text the content creator sees describing the field. May contain spaces.
 * @param {string} name Field/HubL variable name, which you'll reference when incorporating the field and its values in the module or theme. `Cannot contain spaces or special characters!`
 * @param {Object} [fields]
 * @param {Array&lt;LINK_SUPPORTED_TYPES>} [fields.supported_types=all] `all` list of the types of links this field allows content creators to select.
 * @param {Object} [fields.default] Default object --> It's generally a good idea to skip setting the `default` object, as it should be configured by the editor, not the developer
 * @param {string} [fields.default.content_id] Default content id
 * @param {'EXTERNAL'|'CONTENT'|'FILE'|'EMAIL_ADDRESS'|'BLOG'|'CALL_TO_ACTION'|'PHONE_NUMBER'|'WHATSAPP_NUMBER'} fields.default.type Default URL type
 * @param {string} [fields.default.href] Default href
 * @param {EDITOR_OPTIONS} [fields.editor_options] Editor options group.
 * @param {DISPLAY_CONDITIONS} [fields.display_conditions] Display conditions group.
 * @param {REPEATER_OPTIONS} [fields.repeater_options] Repeater options. Keep `occurrence` object empty to just enable a feature. `repeater_options: {occurrence: {}}`
 * @param {REPEATER_OPTIONS_DEFAULT} [fields.repeater_options_default] Repeater options with predefined repeated fields and `default` values for each field.
 * @returns {Object}
 */
function url (label, name, fields) {
  const contentOptions = {}
  contentOptions.supported_types = fields?.supported_types ?? ['EXTERNAL', 'CONTENT', 'FILE', 'EMAIL_ADDRESS', 'BLOG', 'CALL_TO_ACTION', 'PHONE_NUMBER', 'WHATSAPP_NUMBER']
  const defaultObj = {
    content_id: null,
    href: '',
    type: 'EXTERNAL'
  }
  contentOptions.default = { ...defaultObj, ...fields?.default }

  const otherOptions = initField(label, name, 'url', fields)
  return { ...contentOptions, ...otherOptions }
}

export { text, link, richtext, url }
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Fields.html">Fields</a></li><li><a href="Partials.html">Partials</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fi">fi</a></li><li><a href="global.html#group">group</a></li><li><a href="global.html#initModule">initModule</a></li><li><a href="global.html#styleGroup">styleGroup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun May 07 2023 16:22:51 GMT+0300 (Eastern European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
